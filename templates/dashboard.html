<!DOCTYPE html>
<html>
<head>
    <title>Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="{{ url_for('static', filename='main.js') }}"></script>
</head>
<body>

<div class="container">
    <h1>Welcome {{ username }}</h1>

    <div style="display:grid; grid-template-columns:repeat(4,1fr); gap:15px; margin-bottom:25px;">
        <div class="card">ğŸ“ Projects<br><strong>{{ total_projects }}</strong></div>
        <div class="card">ğŸ“‹ Tasks<br><strong>{{ total_tasks }}</strong></div>
        <div class="card">ğŸš§ In Progress<br><strong>{{ in_progress }}</strong></div>
        <div class="card">âœ… Completed<br><strong>{{ completed }}</strong></div>
    </div>

    <div style="text-align:center; margin-bottom:20px;">
        <a href="{{ url_for('new_project') }}"><button>Add New Project</button></a>
        <a href="{{ url_for('logout') }}"><button>Logout</button></a>
    </div>

    {% for project in projects %}
    <div class="project-box">
        <h3>{{ project.name }}</h3>
        <p>{{ project.description }}</p>

        <div style="margin-bottom: 10px;">
            Progress: {{ project.progress }}%
            <progress value="{{ project.progress }}" max="100" style="width: 100%;"></progress>
        </div>

        <div style="margin-top:15px;">
            <a href="{{ url_for('kanban', project_id=project.id) }}">
                <button style="padding: 8px 16px;">Open Kanban Board</button>
            </a>
            
            <a href="{{ url_for('new_task', project_id=project.id) }}">
                <button style="padding: 8px 16px;">Add Task</button>
            </a>
        </div>
    </div>
    {% endfor %}

</div>

</body>
</html>